webpackJsonp([1,2],{15:function(e,t,a){"use strict";var i=a(4),o=a.n(i),s=a(56),r=a.n(s),n=a(53),l=a.n(n);o.a.use(r.a),t.a=new r.a({routes:[{path:"/",name:"Riverflow",component:l.a}]})},16:function(e,t,a){a(50);var i=a(14)(a(35),a(54),null,null);e.exports=i.exports},35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},36:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(38),o=a.n(i),s=a(17),r=a.n(s),n=a(59),l=a.n(n);t.default={name:"riverflow",data:function(){var e;return e={condition:null,error:null,graphImage:null,latestCfs:null},o()(e,"latestCfs",null),o()(e,"latestTime",null),o()(e,"latitude",null),o()(e,"loading",!1),o()(e,"longitude",null),o()(e,"mapUrl",null),o()(e,"riverId",null),o()(e,"siteName",null),o()(e,"selected","selectRiver"),o()(e,"baseMapUrl","http://maps.google.com/?q="),o()(e,"flickrApiKey","6c6069e831fb567b86c7d9b75c82624f"),o()(e,"options",[{text:"Select a river",value:"selectRiver"},{text:"Barton Springs",value:"08155500"},{text:"Barton Creek : Above Barton Springs",value:"08155400"},{text:"Barton Creek : Loop 360",value:"08155300"},{text:"Barton Creek : Lost Ck Blvd",value:"08155240"},{text:"Barton Creek : SH 71",value:"08155200"}]),e},methods:{getUsgsData:function(e){var t="https://waterservices.usgs.gov/nwis/iv/?format=json&period=P7D&sites=",a="&parameterCd=00060",i=e.target[e.target.selectedIndex].value,o=t+i+a,s=this;"selectRiver"!==i&&(this.riverId=i,this.loading=!0,this.displayGraph(),r.a.get(o).then(function(e){s.loading=!1,s.error=null,s.displayUsgsData(e.data.value.timeSeries[0])}).catch(function(e){console.error(e.message),s.loading=!1,s.error=e.message}))},displayUsgsData:function(e){var t=e.values[0].value.reverse()[0],a=new Date(t.dateTime);this.latestCfs=t.value,this.siteName=e.sourceInfo.siteName,this.latitude=e.sourceInfo.geoLocation.geogLocation.latitude,this.longitude=e.sourceInfo.geoLocation.geogLocation.longitude,this.latestTime=a.toDateString()+" at "+a.toLocaleTimeString(),this.displayConditions(parseInt(this.latestCfs,10)),this.mapUrl=this.baseMapUrl+this.latitude+",+"+this.longitude},displayGraph:function(){var e="http://waterdata.usgs.gov/nwisweb/graph?agency_cd=USGS&parm_cd=00060&site_no="+this.riverId+"&period=7",t='<img src="'+e+'"id="graph" alt="USGS Water-data graph">';this.graphImage=t},displayConditions:function(e){0===e?this.condition=l.a.flow0:e>0&&e<50?this.condition=l.a.flow1:e>=50&&e<100?this.condition=l.a.flow2:e>=100&&e<300?this.condition=l.a.flow3:e>=300&&e<600?this.condition=l.a.flow4:e>=600&&e<2e3?this.condition=l.a.flow5:e>=2e3?this.condition=l.a.flow6:console.error("no flow rate conditions met. flowRate = "+e)}}}},50:function(e,t){},51:function(e,t){},53:function(e,t,a){a(51);var i=a(14)(a(36),a(55),"data-v-07ddb32d",null);e.exports=i.exports},54:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},55:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"riverflow"},[e.loading?a("div",{staticClass:"loading"},[e._v("Loading...")]):e._e(),e._v(" "),e.error?a("div",{staticClass:"error"},[e._v("Error loading river information")]):e._e(),e._v(" "),e._m(0),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:[function(t){e.selected=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]},e.getUsgsData]}},e._l(e.options,function(t){return a("option",{domProps:{value:t.value}},[e._v("\n        "+e._s(t.text)+"\n      ")])})),e._v(" "),e.latestCfs?a("div",{staticClass:"latestCfs"},[a("h2",[a("span",{staticClass:"rate"},[e._v(e._s(e.latestCfs))]),e._v(" "),a("abbr",{staticClass:"rateCfs",attrs:{title:"cubic feet per second"}},[e._v("CFS")])]),e._v(" "),e.latitude?a("div",{staticClass:"mapLinkLatLong"},[a("a",{attrs:{href:e.mapUrl}},[e._v("View a Map")]),e._v(" ("+e._s(e.latitude)+",Â  "+e._s(e.longitude)+")\n    ")]):e._e(),e._v(" "),e.latestTime?a("div",[e._v(e._s(e.latestTime))]):e._e()]):e._e(),e._v(" "),e.condition?a("div",{staticClass:"conditions"},[e._v(e._s(e.condition))]):e._e(),e._v(" "),e.graphImage?a("div",{staticClass:"graph",domProps:{innerHTML:e._s(e.graphImage)}}):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("h1",[e._v("Riverflow")]),e._v(" "),a("p",[e._v("Texas Edition")])])}]}},59:function(e,t){e.exports={flow0:"Sorry but this river is bone dry. Try a spring fed river like the San Marcos til we get more rain.",flow1:"The river is pretty much just a trickle right. Not much good for floating at the moment but a good rain should bring it up",flow2:"It's barely moving but it should be floatable in kayaks or tubes. Be prepared to drag bottom in spots though.",flow3:"This is a pretty leisurely flow but still fun. You shouldn't have any problems scraping bottom in canoes at this level",flow4:"Now we're talking! The river is flowing pretty good but not too dangerous. If the graph shows a sharp increase over the past week it may still be rising.",flow5:"The flow is moving now! Unless this is a large volume river like the Colorado or Rio Grande you can expect some really fast moving water.",flow6:"DANGER! Possible death awaits! Unless this is a large volume river like the Colorado you may drown. Check with a local outfitter for more details on conditions before heading out."}},60:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),o=a.n(i),s=a(16),r=a.n(s),n=a(15);new o.a({el:"#app",router:n.a,template:"<App/>",components:{App:r.a}})}},[60]);
//# sourceMappingURL=app.e7b35145f42be03a3a7f.js.map